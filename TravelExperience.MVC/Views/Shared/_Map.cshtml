@*@model IEnumerable<TravelExperience.DataAccess.Core.Entities.Accommodation>*@

@{
    ViewBag.Title = "Map";
}


<style>
    #map {
        height: 800px;
        width: 650px;
        
    }
</style>
<br />


    <div id="map">
        <script>
            var map;
            function initMap() {
                map = new google.maps.Map(document.getElementById('map'), {
                    center: { lat: 37.98096185419733, lng: 23.732283397775806 },
                    zoom: 10
                });

                $.get("@Url.Action("GetLocation", "Map")", function (data, status) {
                    var marker = [];
                    var contentString = [];
                    var infowindow = [];
                    var lat = parseFloat(data[i].Xcoord);
                    var lon = parseFloat(data[i].Ycoord);
                    for (var i = 0; i < data.length; i++) {
                        marker[i] = new google.maps.Marker({
                            position: { lat: lat, lng: lon },
                            map: map
                        });
                            contentString[i] = '<div id="content">' +
                            '<div id="siteNotice">' +
                            '</div>' +
                            '<h1 id="firstHeading" class="firstHeading>' + data[i].Address + '</h1>' +
                            '<div id="bodyContent">' +
                                '<p><b>' + data[i].AccommodationId + '</b>,  a small description  of the accommodation</p>' +
                            '</div>';

                            infowindow[i] = new google.maps.InfoWindow({
                            content: contentString[i]
                            });

                        var mdl = marker[i];

                        google.maps.event.addListener(marker[i], 'mouseover', (function (mdl, i) {
                            return function () {
                                infowindow[i].open(map, marker[i]);
                            }
                        })(marker[i], i));

                        google.maps.event.addListener(marker[i], 'mouseout', (function (mdl, i) {
                            return function () {
                                infowindow[i].close();
                            }
                        })(marker[i], i));

                    }

                })


            }
        </script>

        @*<script>
                var map;
                function initMap() {
                    map = new google.maps.Map(document.getElementById('map'), {
                        center: { lat: 37.98096185419733, lng: 23.732283397775806 },
                        zoom: 12
                    });
                    var marker1 = new google.maps.Marker({
                        position: { lat: 37.98096185419733, lng: 23.732283397775806 },
                        map: map
                    });
                    var marker2 = new google.maps.Marker({
                        position: { lat: 37.98367965983411, lng: 23.730461897775804 },
                        map: map
                    });
                    var contentStringForMarker1 = '<div id="content">' +
                        '<div id="siteNotice">' +
                        '</div>' +
                        '<h1 id="firstHeading" class="firstHeading>AccommodationName</h1>' +
                        '<div id="bodyContent">' +
                        '<p><b>AccommodationName</b>,  a small description  of the accommodation</p>' +
                        '</div>';
                    var infowindow = new google.maps.InfoWindow({
                        content: contentStringForMarker1
                    });
                    marker1.addListener('click', function () {
                        infowindow.open(map, marker1);
                    });
                }
            </script>*@

        <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCLxLZZ4ElJQCQT_Ppnc_KoQC30aESetyE&callback=initMap"
                async defer></script>

    </div>






@*<head>
                    <title>
                        Map
                    </title>
                    <script src="~/Scripts/jquery-3.4.1.min.js"></script>
                    <script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCLxLZZ4ElJQCQT_Ppnc_KoQC30aESetyE&callback=initMap"></script>
                </head>

                <div>
                    <div id="modal-map" style="height:76%;width:77%; position:absolute; overflow: hidden;"></div>
                </div>
    @section scripts{
        <script>

            //Types of maps
            //ROADMAP
            //SATELLITE
            //HYBRID
            //TERRAIN
            var point = { lat: 37.98096185419733, lng: 23.732283397775806 };
            var map = new google.maps.Map(document, getElementById('modal-map'), {
                zoom: 13,
                center: point,
                mapTypeId: google.maps.MapTypeId.ROADMAP,
                zoomControl: true,
                //position of the zoom control
                zoomControlOptions: {
                    position: google.maps.ControlPosition.LEFT_BOTTOM
                },
                //scaleControl:true
                streetViewControl: true,
                //position of the street view control
                streetViewControlOptions: {
                    position: google.maps.ControlPosition.LEFT_BOTTOM
                },
                mapTypeControlOptions: {
                    position: google.maps.ControlPosition.RIGHT_CENTER
                },
            });
        </script>

        }*@

